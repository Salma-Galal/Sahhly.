<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sahhly - Your Digital Wallet</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        /* Base font and anti-aliasing for better text rendering across devices */
        body {
            font-family: 'Inter', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        /* Utility class to hide elements using display: none; */
        .hidden {
            display: none;
        }
        /* Styling for the common back button used in sub-interfaces */
        .back-button {
            background-color: #f59e0b; /* Tailwind amber-500 */
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-top: 1.5rem;
            transition: background-color 0.3s ease; /* Smooth hover effect */
        }
        .back-button:hover {
            background-color: #d97706; /* Tailwind amber-600 on hover */
        }
        /* Styling for mock credit cards */
        .credit-card {
            background: linear-gradient(135deg, #1f2937, #4b5563); /* Dark gray gradient */
            color: white;
            border-radius: 1rem;
            padding: 1.5rem;
            aspect-ratio: 16 / 9; /* Standard card aspect ratio */
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .credit-card.visa {
            background: linear-gradient(135deg, #4299e1, #3182ce); /* Blue gradient */
        }
        .credit-card.mastercard {
            background: linear-gradient(135deg, #ef4444, #dc2626); /* Red gradient */
        }
        .credit-card .chip {
            width: 40px;
            height: 30px;
            background-color: #e2e8f0;
            border-radius: 4px;
            margin-bottom: 1rem;
        }
        .credit-card .logo {
            font-weight: bold;
            font-size: 1.5rem;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
        }
        /* Styling for video chat */
        #videoChatInterface video {
            width: 100%;
            max-width: 400px;
            border-radius: 0.75rem;
            background-color: #333; /* Dark background for video */
            margin-bottom: 1rem;
        }
    </style>
</head>
<body class="min-h-screen bg-white text-gray-800 flex flex-col items-center p-4 sm:p-6">

    <header class="w-full max-w-md flex items-center justify-between py-4">
        <div class="flex items-center space-x-2">
            <div class="bg-amber-600 p-2 rounded-full shadow-md">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-white">
                    <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" />
                    <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" />
                </svg>
            </div>
            <h1 class="text-2xl font-bold text-amber-800">Sahhly</h1>
        </div>
        <div id="userIdDisplay" class="text-sm text-gray-600">
            User ID: <span class="font-semibold"></span>
        </div>
    </header>

    <main id="mainContent" class="w-full max-w-md bg-stone-100 rounded-2xl shadow-lg p-6 space-y-6">

        <section class="bg-white p-5 rounded-xl shadow-sm">
            <h2 class="text-xl font-semibold mb-3 flex items-center">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2 text-amber-600"><line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon></svg>
                Send Money
            </h2>
            <div class="space-y-3">
                <input
                    type="text"
                    placeholder="Account Name or Phone Number"
                    class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-400"
                />
                <input
                    type="number"
                    placeholder="Amount"
                    class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-400"
                />
                <button class="w-full bg-amber-600 text-white py-3 rounded-lg font-semibold hover:bg-amber-700 transition duration-300">
                    Confirm Send
                </button>
            </div>
        </section>

        <section class="bg-white p-5 rounded-xl shadow-sm">
            <h2 class="text-xl font-semibold mb-3 flex items-center">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2 text-amber-600"><path d="M20 12V8H6a2 2 0 0 1-2-2c0-1.1.9-2 2-2h12v4"></path><path d="M4 6v12a2 2 0 0 0 2 2h14v-4"></path><path d="M18 9.5a.5.5 0 0 0 1 0V9h-1v.5Z"></path></svg>
                Your Balance
            </h2>
            <div class="text-center">
                <p class="text-4xl font-bold text-amber-800 mb-2" id="balanceDisplay"></p>
                <p class="text-gray-600">Available Amount</p>
            </div>
        </section>

        <section class="bg-white p-5 rounded-xl shadow-sm">
            <h2 class="text-xl font-semibold mb-3 flex items-center">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2 text-amber-600"><path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"></path></svg>
                Accessibility features
            </h2>
            <div class="grid grid-cols-2 gap-4">
                <button
                    id="voiceControlBtn"
                    class="flex flex-col items-center justify-center p-4 bg-amber-50 rounded-lg shadow-sm hover:bg-amber-100 transition duration-300 text-amber-800 font-medium"
                >
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mb-2"><path d="M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"></path><path d="M19 10v2a7 7 0 0 1-14 0v-2"></path><line x1="12" x2="12" y1="19" y2="22"></line></svg>
                    Voice Control
                </button>
                <button
                    id="signLanguageBtn"
                    class="flex flex-col items-center justify-center p-4 bg-amber-50 rounded-lg shadow-sm hover:bg-amber-100 transition duration-300 text-amber-800 font-medium"
                >
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mb-2"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path></svg>
                    Sign Language Guides
                </button>
                <button
                    id="textSupportBtn"
                    class="flex flex-col items-center justify-center p-4 bg-amber-50 rounded-lg shadow-sm hover:bg-amber-100 transition duration-300 text-amber-800 font-medium"
                >
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mb-2"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path></svg>
                    Text Support
                </button>
                 <button
                    id="videoChatBtn"
                    class="flex flex-col items-center justify-center p-4 bg-amber-50 rounded-lg shadow-sm hover:bg-amber-100 transition duration-300 text-amber-800 font-medium"
                >
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mb-2"><path d="M23 7l-7 5 7 5V7z"/><rect x="1" y="5" width="15" height="14" rx="2" ry="2"/></svg>
                    Video Chat
                </button>
            </div>
        </section>

        <section class="p-2">
            <button
                id="emergencyBtn"
                class="w-full bg-red-600 text-white py-4 rounded-xl font-bold text-lg shadow-md hover:bg-red-700 transition duration-300 flex items-center justify-center"
            >
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-3"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path></svg>
                Emergency Help
            </button>
        </section>

        <section class="bg-white p-5 rounded-xl shadow-sm">
            <h2 class="text-xl font-semibold mb-3 flex items-center">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2 text-amber-600"><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.75L3 8"></path><path d="M3 3v5h5"></path></svg>
                Recent Transactions
            </h2>
            <ul id="transactionsList" class="space-y-3">
                </ul>
        </section>

    </main>

    <div id="voiceControlInterface" class="hidden w-full max-w-md bg-stone-100 rounded-2xl shadow-lg p-6 space-y-6 text-center">
        <h2 class="text-3xl font-bold text-amber-800 mb-4">Voice Control</h2>
        <p class="text-gray-700 text-lg mb-6">
            Say commands like:
        </p>
        <ul class="list-disc list-inside text-left mx-auto max-w-xs space-y-2 text-gray-700">
            <li>"Send money to Malak"</li>
            <li>"Check my balance"</li>
            <li>"Send 100 EGP to Maha"</li>
            <li>"Show recent transactions"</li>
        </ul>
        <div class="mt-8 flex justify-center items-center">
            <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-amber-600 animate-pulse"><path d="M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"></path><path d="M19 10v2a7 7 0 0 1-14 0v-2"></path><line x1="12" x2="12" y1="19" y2="22"></line></svg>
        </div>
        <p class="text-gray-500 mt-4">Listening for your command...</p>
        <button id="backFromVoiceBtn" class="back-button w-full">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2"><path d="m15 18-6-6 6-6"/></svg>
            Back to Main
        </button>
    </div>

    <div id="signLanguageInterface" class="hidden w-full max-w-md bg-stone-100 rounded-2xl shadow-lg p-6 space-y-6 text-center">
        <h2 class="text-3xl font-bold text-amber-800 mb-4">Sign Language Guides</h2>
        <p class="text-gray-700 text-lg mb-6">
            Watch video guides for common banking tasks in sign language.
        </p>
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
            <div class="bg-white rounded-lg shadow-sm p-4">
                <img src="https://placehold.co/300x180/E9D8A6/78350F?text=Video+1" alt="Placeholder video thumbnail" class="w-full rounded-md mb-2">
                <p class="font-medium text-amber-800">How to Send Money</p>
            </div>
            <div class="bg-white rounded-lg shadow-sm p-4">
                <img src="https://placehold.co/300x180/E9D8A6/78350F?text=Video+2" alt="Placeholder video thumbnail" class="w-full rounded-md mb-2">
                <p class="font-medium text-amber-800">Checking Your Balance</p>
            </div>
            <div class="bg-white rounded-lg shadow-sm p-4">
                <img src="https://placehold.co/300x180/E9D8A6/78350F?text=Video+3" alt="Placeholder video thumbnail" class="w-full rounded-md mb-2">
                <p class="font-medium text-amber-800">Paying Bills</p>
            </div>
            <div class="bg-white rounded-lg shadow-sm p-4">
                <img src="https://placehold.co/300x180/E9D8A6/78350F?text=Video+4" alt="Placeholder video thumbnail" class="w-full rounded-md mb-2">
                <p class="font-medium text-amber-800">Account Statements</p>
            </div>
        </div>
        <button id="backFromSignBtn" class="back-button w-full">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2"><path d="m15 18-6-6 6-6"/></svg>
            Back to Main
        </button>
    </div>

    <div id="textSupportInterface" class="hidden w-full max-w-md bg-stone-100 rounded-2xl shadow-lg p-6 space-y-6 flex flex-col h-[60vh]">
        <h2 class="text-3xl font-bold text-amber-800 mb-4 text-center">Text Support Chat</h2>
        <div id="chatWindow" class="flex-grow bg-white rounded-lg p-4 overflow-y-auto shadow-inner mb-4 space-y-3">
            <div class="flex justify-start">
                <div class="bg-gray-200 p-3 rounded-xl rounded-bl-none max-w-[80%] text-gray-800">
                    Hello! How can I assist you today?
                </div>
            </div>
            <div class="flex justify-end">
                <div class="bg-amber-100 p-3 rounded-xl rounded-br-none max-w-[80%] text-amber-800">
                    Hi, I need help with my recent transaction.
                </div>
            </div>
        </div>
        <div class="flex space-x-2">
            <input
                type="text"
                id="chatInput"
                placeholder="Type your message..."
                class="flex-grow p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-400"
            />
            <button id="sendChatBtn" class="bg-amber-600 text-white p-3 rounded-lg font-semibold hover:bg-amber-700 transition duration-300">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="send-icon"><line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon></svg>
            </button>
        </div>
        <button id="backFromTextBtn" class="back-button w-full">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2"><path d="m15 18-6-6 6-6"/></svg>
            Back to Main
        </button>
    </div>

    <div id="videoChatInterface" class="hidden w-full max-w-md bg-stone-100 rounded-2xl shadow-lg p-6 space-y-6 text-center">
        <h2 class="text-3xl font-bold text-amber-800 mb-4">Customer Service Video Chat</h2>
        <p class="text-gray-700 text-lg mb-6">
            Connect with a customer service representative via video.
        </p>
        <div class="flex justify-center items-center mb-6">
            <video id="localVideo" autoplay muted class="w-1/2 rounded-lg shadow-md mr-2"></video>
            <video id="remoteVideo" autoplay class="w-1/2 rounded-lg shadow-md ml-2"></video>
        </div>
        <p class="text-gray-500 mt-4" id="videoChatStatus">Awaiting connection...</p>

        <button id="startVideoChatBtn" class="w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition duration-300 flex items-center justify-center">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2"><path d="M23 7l-7 5 7 5V7z"/><rect x="1" y="5" width="15" height="14" rx="2" ry="2"/></svg>
            Start Video Call
        </button>
        <button id="endVideoChatBtn" class="w-full bg-red-600 text-white py-3 rounded-lg font-semibold hover:bg-red-700 transition duration-300 flex items-center justify-center mt-3 hidden">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2"><path d="M10.68 13.31a16 16 0 0 0 3.41 2.6l1.36 1.36a2 2 0 0 0 2.83 0l2.5-2.5a2 2 0 0 0 0-2.83l-1.35-1.36a2 2 0 0 0-2.83 0l-.7.7a2 2 0 0 1-2.83 0l-.7-.7a2 2 0 0 0-2.83 0l-1.36 1.36c-.19.2-.32.42-.42.66a2.03 2.03 0 0 0-.07.22A2.02 2.02 0 0 0 3 13.1c0 2.76 1.34 5.21 3.41 6.6l1.36 1.36a2 2 0 0 0 2.83 0l2.5-2.5a2 2 0 0 0 0-2.83L10.68 13.31zM9.5 7.5l-2-2"/></svg>
            End Video Call
        </button>

        <button id="backFromVideoChatBtn" class="back-button w-full mt-3">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2"><path d="m15 18-6-6 6-6"/></svg>
            Back to Main
        </button>
    </div>

    <div id="profileInterface" class="hidden w-full max-w-md bg-stone-100 rounded-2xl shadow-lg p-6 space-y-6 text-center">
        <h2 class="text-3xl font-bold text-amber-800 mb-6">Your Profile</h2>

        <div class="flex justify-center mb-6">
            <img src="https://placehold.co/120x120/E9D8A6/78350F?text=Salma" alt="Profile Picture" class="rounded-full border-4 border-amber-600 shadow-md">
        </div>

        <div class="mb-6">
            <p class="text-xl font-semibold text-gray-800">Welcome, <span id="profileUserName"></span>!</p>
            <p id="profileUserId" class="text-sm text-gray-600">User ID: </p>
        </div>

        <section class="bg-white p-5 rounded-xl shadow-sm mb-6">
            <h3 class="text-xl font-semibold mb-3 flex items-center justify-center">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2 text-amber-600"><path d="M20 12V8H6a2 2 0 0 1-2-2c0-1.1.9-2 2-2h12v4"></path><path d="M4 6v12a2 2 0 0 0 2 2h14v-4"></path><path d="M18 9.5a.5.5 0 0 0 1 0V9h-1v.5Z"></path></svg>
                Balance Inquiry
            </h3>
            <p class="text-4xl font-bold text-amber-800" id="profileBalanceDisplay"></p>
            <p class="text-gray-600 mt-2">Current Available Amount</p>
        </section>

        <div class="space-y-4 text-left">
            <div class="flex items-center bg-white p-4 rounded-lg shadow-sm">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-3 text-amber-600"><rect width="20" height="16" x="2" y="4" rx="2"></rect><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"></path></svg>
                <div>
                    <p class="font-medium">Email Address</p>
                    <p class="text-gray-600">salma.moheeb@example.com</p>
                </div>
            </div>
            <div class="flex items-center bg-white p-4 rounded-lg shadow-sm">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-3 text-amber-600"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path></svg>
                <div>
                    <p class="font-medium">Phone Number</p>
                    <p class="text-gray-600">+20 100 123 4567</p>
                </div>
            </div>
            <button class="w-full bg-blue-500 text-white py-3 rounded-lg font-semibold hover:bg-blue-600 transition duration-300 flex items-center justify-center">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2"><path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.78 1.35a2 2 0 0 0 .73 2.73l.09.09a2 2 0 0 1 0 2.83l-.08.08a2 2 0 0 0-.73 2.73l.78 1.35a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.78-1.35a2 2 0 0 0-.73-2.73l-.09-.09a2 2 0 0 1 0-2.83l.08-.08a2 2 0 0 0 .73-2.73l-.78-1.35a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"></path><circle cx="12" cy="12" r="3"></circle></svg>
                Account Settings
            </button>
        </div>

        <button id="backFromProfileBtn" class="back-button w-full">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2"><path d="m15 18-6-6 6-6"/></svg>
            Back to Main
        </button>
    </div>

    <div id="cardsInterface" class="hidden w-full max-w-md bg-stone-100 rounded-2xl shadow-lg p-6 space-y-6 text-center">
        <h2 class="text-3xl font-bold text-amber-800 mb-6">Your Cards</h2>

        <div class="space-y-4">
            <div class="credit-card visa">
                <div class="flex justify-between items-start">
                    <div class="chip"></div>
                    <span class="logo">VISA</span>
                </div>
                <div class="text-2xl font-mono tracking-wider">**** **** **** 1234</div>
                <div class="flex justify-between items-center text-sm">
                    <span>Salma Moheeb</span>
                    <span>08/27</span>
                </div>
            </div>

            <div class="credit-card mastercard">
                <div class="flex justify-between items-start">
                    <div class="chip"></div>
                    <span class="logo">MasterCard</span>
                </div>
                <div class="text-2xl font-mono tracking-wider">**** **** **** 5678</div>
                <div class="flex justify-between items-center text-sm">
                    <span>Salma Moheeb</span>
                    <span>11/26</span>
                </div>
            </div>
        </div>

        <button class="w-full bg-green-500 text-white py-3 rounded-lg font-semibold hover:bg-green-600 transition duration-300 mt-6 flex items-center justify-center">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2"><circle cx="12" cy="12" r="10"></circle><line x1="12" x2="12" y1="8" y2="16"></line><line x1="8" x2="16" y1="12" y2="12"></line></svg>
            Add New Card
        </button>
        <button class="w-full bg-gray-500 text-white py-3 rounded-lg font-semibold hover:bg-gray-600 transition duration-300 mt-3 flex items-center justify-center">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2"><path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.78 1.35a2 2 0 0 0 .73 2.73l.09.09a2 2 0 0 1 0 2.83l-.08.08a2 2 0 0 0-.73 2.73l.78 1.35a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.78-1.35a2 2 0 0 0-.73-2.73l-.09-.09a2 2 0 0 1 0-2.83l.08-.08a2 2 0 0 0 .73-2.73l-.78-1.35a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"></path><circle cx="12" cy="12" r="3"></circle></svg>
            Manage Cards
        </button>

        <button id="backFromCardsBtn" class="back-button w-full">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2"><path d="m15 18-6-6 6-6"/></svg>
            Back to Main
        </button>
    </div>

    <div id="historyInterface" class="hidden w-full max-w-md bg-stone-100 rounded-2xl shadow-lg p-6 space-y-6">
        <h2 class="text-3xl font-bold text-amber-800 mb-6 text-center">Transaction History</h2>

        <div class="flex justify-around bg-white p-3 rounded-xl shadow-sm mb-4">
            <button class="text-amber-600 font-semibold border-b-2 border-amber-600 pb-1">All</button>
            <button class="text-gray-500 hover:text-amber-600">Sent</button>
            <button class="text-gray-500 hover:text-amber-600">Received</button>
            <button class="text-gray-500 hover:text-amber-600">Pending</button>
        </div>

        <ul id="fullTransactionsList" class="space-y-3 bg-white p-4 rounded-xl shadow-sm">
            </ul>
        
        <button id="backFromHistoryBtn" class="back-button w-full">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2"><path d="m15 18-6-6 6-6"/></svg>
            Back to Main
        </button>
    </div>


    <nav class="w-full max-w-md bg-white rounded-t-2xl shadow-xl fixed bottom-0 left-1/2 -translate-x-1/2 flex justify-around py-3 border-t border-gray-200">
        <button id="navHomeBtn" class="flex flex-col items-center text-amber-600">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="wallet"><path d="M20 12V8H6a2 2 0 0 1-2-2c0-1.1.9-2 2-2h12v4"></path><path d="M4 6v12a2 2 0 0 0 2 2h14v-4"></path><path d="M18 9.5a.5.5 0 0 0 1 0V9h-1v.5Z"></path></svg>
            <span class="text-xs mt-1">Home</span>
        </button>
        <button id="navCardsBtn" class="flex flex-col items-center text-gray-500 hover:text-amber-600">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="credit-card"><rect width="20" height="14" x="2" y="5" rx="2"></rect><line x1="2" x2="22" y1="10" y2="10"></line></svg>
            <span class="text-xs mt-1">Cards</span>
        </button>
        <button id="navHistoryBtn" class="flex flex-col items-center text-gray-500 hover:text-amber-600">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="history"><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.75L3 8"></path><path d="M3 3v5h5"></path></svg>
            <span class="text-xs mt-1">History</span>
        </button>
        <button id="navProfileBtn" class="flex flex-col items-center text-gray-500 hover:text-amber-600">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="user"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>
            <span class="text-xs mt-1">Profile</span>
        </button>
    </nav>

    <script>
        // --- Data ---
        // Mock data for user details, balance, and transactions.
        // In a real application, this would typically be fetched from a backend API.
        const userName = 'Salma'; // The requested user name for the profile
        const balance = '1,000,000.00'; // The requested balance format (removed space to ensure proper number parsing if needed later)
        const currency = 'EGP';
        const transactions = [
            { id: 1, type: 'Sent', to: 'Rodina', amount: '250.00', date: 'April 26, 2025', status: 'Completed' },
            { id: 2, type: 'Received', from: 'Fjr Reda', amount: '150.00', date: 'April 18, 2025', status: 'Completed' },
            { id: 3, type: 'Sent', to: 'Bank Transfer', amount: '1,000.00', date: 'Jul 17, 2025', status: 'Pending' },
            { id: 4, type: 'Received', from: 'Ahmed Said', amount: '500.00', date: 'April 15, 2025', status: 'Completed' },
            { id: 5, type: 'Sent', to: 'Electricity Bill', amount: '300.00', date: 'April 10, 2025', status: 'Completed' },
            { id: 6, type: 'Received', from: 'Salary', amount: '5000.00', date: 'April 01, 2025', status: 'Completed' },
        ];

        // --- DOM Element References ---
        // Get references to the main content area and all sub-interfaces for show/hide logic
        const mainContent = document.getElementById('mainContent');
        const voiceControlInterface = document.getElementById('voiceControlInterface');
        const signLanguageInterface = document.getElementById('signLanguageInterface');
        const textSupportInterface = document.getElementById('textSupportInterface');
        const videoChatInterface = document.getElementById('videoChatInterface'); // New: Reference to Video Chat interface
        const profileInterface = document.getElementById('profileInterface');
        const cardsInterface = document.getElementById('cardsInterface');
        const historyInterface = document.getElementById('historyInterface');

        // Get references to buttons that trigger the various interfaces
        const voiceControlBtn = document.getElementById('voiceControlBtn');
        const signLanguageBtn = document.getElementById('signLanguageBtn');
        const textSupportBtn = document.getElementById('textSupportBtn');
        const videoChatBtn = document.getElementById('videoChatBtn'); // New: Reference to Video Chat button
        const emergencyBtn = document.getElementById('emergencyBtn');

        // Get references to navigation buttons at the bottom
        const navHomeBtn = document.getElementById('navHomeBtn');
        const navCardsBtn = document.getElementById('navCardsBtn');
        const navHistoryBtn = document.getElementById('navHistoryBtn');
        const navProfileBtn = document.getElementById('navProfileBtn');

        // Get references to back buttons
        const backFromVoiceBtn = document.getElementById('backFromVoiceBtn');
        const backFromSignBtn = document.getElementById('backFromSignBtn');
        const backFromTextBtn = document.getElementById('backFromTextBtn');
        const backFromVideoChatBtn = document.getElementById('backFromVideoChatBtn'); // New: Back button for Video Chat
        const backFromProfileBtn = document.getElementById('backFromProfileBtn');
        const backFromCardsBtn = document.getElementById('backFromCardsBtn');
        const backFromHistoryBtn = document.getElementById('backFromHistoryBtn');

        // Get other specific element references
        const userIdDisplay = document.getElementById('userIdDisplay').querySelector('span');
        const balanceDisplay = document.getElementById('balanceDisplay');
        const transactionsList = document.getElementById('transactionsList');
        const chatInput = document.getElementById('chatInput');
        const sendChatBtn = document.getElementById('sendChatBtn');
        const chatWindow = document.getElementById('chatWindow');
        const profileUserName = document.getElementById('profileUserName');
        const profileUserId = document.getElementById('profileUserId');
        const profileBalanceDisplay = document.getElementById('profileBalanceDisplay');
        const fullTransactionsList = document.getElementById('fullTransactionsList');

        const localVideo = document.getElementById('localVideo');
        const remoteVideo = document.getElementById('remoteVideo');
        const startVideoChatBtn = document.getElementById('startVideoChatBtn');
        const endVideoChatBtn = document.getElementById('endVideoChatBtn');
        const videoChatStatus = document.getElementById('videoChatStatus');

        let localStream;
        let peerConnection; // Placeholder for RTCPeerConnection

        // --- Functions to manage interface visibility ---
        // Hides all interfaces and shows the specified one.
        function showInterface(interfaceToShow) {
            mainContent.classList.add('hidden');
            voiceControlInterface.classList.add('hidden');
            signLanguageInterface.classList.add('hidden');
            textSupportInterface.classList.add('hidden');
            videoChatInterface.classList.add('hidden'); // Hide video chat interface
            profileInterface.classList.add('hidden');
            cardsInterface.classList.add('hidden');
            historyInterface.classList.add('hidden');

            interfaceToShow.classList.remove('hidden');
        }

        // Updates the active state of navigation buttons
        function updateNavBarActiveState(activeButtonId) {
            document.querySelectorAll('nav button').forEach(button => {
                if (button.id === activeButtonId) {
                    button.classList.remove('text-gray-500', 'hover:text-amber-600');
                    button.classList.add('text-amber-600');
                } else {
                    button.classList.remove('text-amber-600');
                    button.classList.add('text-gray-500', 'hover:text-amber-600');
                }
            });
        }

        // --- Event Listeners ---
        // Accessibility buttons
        voiceControlBtn.addEventListener('click', () => showInterface(voiceControlInterface));
        signLanguageBtn.addEventListener('click', () => showInterface(signLanguageInterface));
        textSupportBtn.addEventListener('click', () => showInterface(textSupportInterface));
        videoChatBtn.addEventListener('click', () => showInterface(videoChatInterface)); // Event listener for video chat button
        emergencyBtn.addEventListener('click', () => alert('Emergency help requested! Contacting support...')); // Example action

        // Back buttons
        backFromVoiceBtn.addEventListener('click', () => {
            showInterface(mainContent);
            updateNavBarActiveState('navHomeBtn');
        });
        backFromSignBtn.addEventListener('click', () => {
            showInterface(mainContent);
            updateNavBarActiveState('navHomeBtn');
        });
        backFromTextBtn.addEventListener('click', () => {
            showInterface(mainContent);
            updateNavBarActiveState('navHomeBtn');
        });
        backFromVideoChatBtn.addEventListener('click', () => { // Back button for video chat
            if (localStream) {
                localStream.getTracks().forEach(track => track.stop());
                localVideo.srcObject = null;
            }
            if (peerConnection) {
                peerConnection.close();
                peerConnection = null;
            }
            startVideoChatBtn.classList.remove('hidden');
            endVideoChatBtn.classList.add('hidden');
            videoChatStatus.textContent = 'Awaiting connection...';
            showInterface(mainContent);
            updateNavBarActiveState('navHomeBtn');
        });
        backFromProfileBtn.addEventListener('click', () => {
            showInterface(mainContent);
            updateNavBarActiveState('navHomeBtn');
        });
        backFromCardsBtn.addEventListener('click', () => {
            showInterface(mainContent);
            updateNavBarActiveState('navHomeBtn');
        });
        backFromHistoryBtn.addEventListener('click', () => {
            showInterface(mainContent);
            updateNavBarActiveState('navHomeBtn');
        });

        // Navigation bar buttons
        navHomeBtn.addEventListener('click', () => {
            showInterface(mainContent);
            updateNavBarActiveState('navHomeBtn');
        });
        navCardsBtn.addEventListener('click', () => {
            showInterface(cardsInterface);
            updateNavBarActiveState('navCardsBtn');
        });
        navHistoryBtn.addEventListener('click', () => {
            showInterface(historyInterface);
            updateNavBarActiveState('navHistoryBtn');
            renderFullTransactions(); // Ensure full history is rendered
        });
        navProfileBtn.addEventListener('click', () => {
            showInterface(profileInterface);
            updateNavBarActiveState('navProfileBtn');
        });

        // Chat functionality
        sendChatBtn.addEventListener('click', () => {
            const message = chatInput.value.trim();
            if (message) {
                appendChatMessage(message, 'outgoing');
                chatInput.value = '';
                // Simulate a response (in a real app, this would be from a chatbot/agent)
                setTimeout(() => {
                    appendChatMessage("Thank you for your message. An agent will be with you shortly.", 'incoming');
                }, 1000);
            }
        });

        chatInput.addEventListener('keypress', (event) => {
            if (event.key === 'Enter') {
                sendChatBtn.click();
            }
        });

        // --- Helper Functions ---
        // Function to append messages to the chat window
        function appendChatMessage(message, type) {
            const messageDiv = document.createElement('div');
            messageDiv.classList.add('flex', type === 'outgoing' ? 'justify-end' : 'justify-start');
            const innerDiv = document.createElement('div');
            innerDiv.classList.add(
                'p-3',
                'rounded-xl',
                type === 'outgoing' ? 'bg-amber-100' : 'bg-gray-200',
                type === 'outgoing' ? 'rounded-br-none' : 'rounded-bl-none',
                'max-w-[80%]',
                type === 'outgoing' ? 'text-amber-800' : 'text-gray-800'
            );
            innerDiv.textContent = message;
            messageDiv.appendChild(innerDiv);
            chatWindow.appendChild(messageDiv);
            chatWindow.scrollTop = chatWindow.scrollHeight; // Scroll to bottom
        }

        // Renders a limited number of recent transactions on the main page
        function renderRecentTransactions() {
            transactionsList.innerHTML = ''; // Clear existing
            const recent = transactions.slice(0, 3); // Get top 3 for main display
            recent.forEach(transaction => {
                const li = document.createElement('li');
                li.classList.add('flex', 'justify-between', 'items-center', 'py-2', 'border-b', 'border-gray-200');
                li.innerHTML = `
                    <div>
                        <p class="font-medium">${transaction.type === 'Sent' ? 'To' : 'From'}: ${transaction.to || transaction.from}</p>
                        <p class="text-sm text-gray-500">${transaction.date}</p>
                    </div>
                    <p class="font-semibold ${transaction.type === 'Sent' ? 'text-red-600' : 'text-green-600'}">
                        ${transaction.type === 'Sent' ? '-' : '+'}${parseFloat(transaction.amount).toLocaleString('en-US', { minimumFractionDigits: 2 })} ${currency}
                    </p>
                `;
                transactionsList.appendChild(li);
            });
            if (transactions.length > 3) {
                const viewAllBtn = document.createElement('button');
                viewAllBtn.classList.add('w-full', 'text-amber-600', 'font-semibold', 'py-2', 'mt-2', 'hover:underline');
                viewAllBtn.textContent = 'View All Transactions';
                viewAllBtn.addEventListener('click', () => {
                    showInterface(historyInterface);
                    updateNavBarActiveState('navHistoryBtn');
                    renderFullTransactions();
                });
                transactionsList.appendChild(viewAllBtn);
            }
        }

        // Renders all transactions on the history page
        function renderFullTransactions() {
            fullTransactionsList.innerHTML = ''; // Clear existing
            transactions.forEach(transaction => {
                const li = document.createElement('li');
                li.classList.add('flex', 'justify-between', 'items-center', 'py-3', 'border-b', 'border-gray-200', 'last:border-b-0');
                li.innerHTML = `
                    <div>
                        <p class="font-medium">${transaction.type === 'Sent' ? 'To' : 'From'}: ${transaction.to || transaction.from}</p>
                        <p class="text-sm text-gray-500">${transaction.date} - <span class="${transaction.status === 'Completed' ? 'text-green-500' : 'text-yellow-500'}">${transaction.status}</span></p>
                    </div>
                    <p class="font-semibold ${transaction.type === 'Sent' ? 'text-red-600' : 'text-green-600'}">
                        ${transaction.type === 'Sent' ? '-' : '+'}${parseFloat(transaction.amount).toLocaleString('en-US', { minimumFractionDigits: 2 })} ${currency}
                    </p>
                `;
                fullTransactionsList.appendChild(li);
            });
        }


        // --- Video Chat Logic (Placeholder) ---
        startVideoChatBtn.addEventListener('click', async () => {
            videoChatStatus.textContent = 'Connecting...';
            startVideoChatBtn.classList.add('hidden');
            endVideoChatBtn.classList.remove('hidden');

            try {
                // Request access to user's camera and microphone
                localStream = await navigator.mediaDevices.getUserMedia({ video: true, audio: true });
                localVideo.srcObject = localStream;
                videoChatStatus.textContent = 'Awaiting agent...';

                // In a real application, you would now initiate WebRTC peer connection:
                // 1. Create RTCPeerConnection: peerConnection = new RTCPeerConnection(configuration);
                // 2. Add local stream tracks to peerConnection: localStream.getTracks().forEach(track => peerConnection.addTrack(track, localStream));
                // 3. Set up ICE candidate handling: peerConnection.onicecandidate = event => { /* send candidate to remote peer */ };
                // 4. Set up remote stream handling: peerConnection.ontrack = event => { remoteVideo.srcObject = event.streams[0]; };
                // 5. Create offer and set local description: const offer = await peerConnection.createOffer(); await peerConnection.setLocalDescription(offer);
                // 6. Send offer to signaling server for remote peer.
                // 7. Handle answer from remote peer.

                // For this demo, we'll just simulate a connection after a delay
                setTimeout(() => {
                    videoChatStatus.textContent = 'Connected! Speaking with agent.';
                    // Simulate remote video stream (e.g., if you had a pre-recorded video or another local stream)
                    // For now, remoteVideo will remain blank as there's no actual peer.
                }, 3000);

            } catch (error) {
                console.error('Error accessing media devices:', error);
                videoChatStatus.textContent = 'Error: Could not start video. Please check camera/mic permissions.';
                startVideoChatBtn.classList.remove('hidden');
                endVideoChatBtn.classList.add('hidden');
            }
        });

        endVideoChatBtn.addEventListener('click', () => {
            if (localStream) {
                localStream.getTracks().forEach(track => track.stop()); // Stop all tracks
                localVideo.srcObject = null;
            }
            if (peerConnection) {
                peerConnection.close(); // Close the peer connection
                peerConnection = null;
            }
            videoChatStatus.textContent = 'Call ended.';
            startVideoChatBtn.classList.remove('hidden');
            endVideoChatBtn.classList.add('hidden');
            // Optionally, clear remote video as well
            remoteVideo.srcObject = null;
        });


        // --- Initialization ---
        // Sets initial display values and renders dynamic content.
        document.addEventListener('DOMContentLoaded', () => {
            const randomUserId = 'SAH' + Math.floor(100000 + Math.random() * 900000); // Generate a mock user ID
            userIdDisplay.textContent = randomUserId;
            profileUserId.textContent = `User ID: ${randomUserId}`;
            profileUserName.textContent = userName;

            balanceDisplay.textContent = `${parseFloat(balance).toLocaleString('en-US', { minimumFractionDigits: 2 })} ${currency}`;
            profileBalanceDisplay.textContent = `${parseFloat(balance).toLocaleString('en-US', { minimumFractionDigits: 2 })} ${currency}`;

            renderRecentTransactions(); // Render initial recent transactions
            updateNavBarActiveState('navHomeBtn'); // Set home button as active initially
        });
    </script>
</body>
</html>
